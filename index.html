<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tahiri - Votre Solution Moderne</title>
    <meta
      name="description"
      content="Bienvenue chez Tahiri, votre restaurant moderne offrant des plats délicieux et un service exceptionnel. Situé à Maarif et Belvédère dans la ville de Casablanca."
    />
    <meta
      name="keywords"
      content="Tahiri, restaurant, plats délicieux, service exceptionnel, cuisine moderne, Maarif, Belvédère, Casablanca"
    />
    <meta name="author" content="Tahiri Restaurant" />
    <meta name="robots" content="index, follow" />
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const themeColor = "#4caf50";
        const metaThemeColor = document.createElement("meta");
        metaThemeColor.name = "theme-color";
        metaThemeColor.content = themeColor;
        document.head.appendChild(metaThemeColor);
      });
    </script>
    <script>
      if (!("themeColor" in document.documentElement.style)) {
        document.documentElement.style.setProperty("--theme-color", "#4caf50");
      }
    </script>
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const form = document.getElementById("contact-form");
        const confirmationMessage = document.getElementById("confirmation");
        const errorMessage = document.getElementById("error");

        if (!form) {
          console.error("Form element not found");
          return;
        }

        form.addEventListener("submit", async (event) => {
          event.preventDefault(); // Empêche le rechargement de la page

          // Récupère les valeurs des champs
          const name = document.getElementById("name").value;
          const email = document.getElementById("email").value;
          const message = document.getElementById("message").value;

          console.log("Form submitted", { name, email, message });

          try {
            const response = await fetch("http://localhost:3000/api/contact", {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify({ name, email, message }),
            });

            if (response.ok) {
              // Affiche le message de confirmation
              confirmationMessage.style.display = "block";
              errorMessage.style.display = "none";
              form.reset();

              // Cache le message après 3 secondes
              setTimeout(() => {
                confirmationMessage.style.display = "none";
              }, 3000);
            } else {
              throw new Error("Erreur lors de l'envoi des données.");
            }
          } catch (error) {
            console.error("Error submitting form", error);
            // Affiche le message d'erreur
            errorMessage.style.display = "block";
            confirmationMessage.style.display = "none";
          }
        });

        // Bouton de retour en haut de page
        const backToTopButton = document.createElement("button");
        backToTopButton.classList.add("back-to-top");
        backToTopButton.innerHTML = "↑";
        document.body.appendChild(backToTopButton);

        window.addEventListener("scroll", () => {
          if (window.scrollY > 300) {
            backToTopButton.style.display = "block";
          } else {
            backToTopButton.style.display = "none";
          }
        });

        backToTopButton.addEventListener("click", () => {
          window.scrollTo({ top: 0, behavior: "smooth" });
        });

        // Gestion des liens actifs dans la barre de navigation
        const navLinks = document.querySelectorAll("nav a");
        navLinks.forEach((link) => {
          link.addEventListener("click", () => {
            navLinks.forEach((nav) => nav.classList.remove("active"));
            link.classList.add("active");
          });
        });
      });
    </script>
  </head>
  <body>
    <header role="banner">
      <img
        src="https://via.placeholder.com/150x60?text=Tahiri"
        alt="Logo Tahiri"
      />
      <h1>Bienvenue chez Tahiri</h1>
    </header>
    <nav role="navigation">
      <a href="#about" class="active">À propos</a>
      <a href="#menu">Menu</a>
      <a href="#locations">Emplacements</a>
      <a href="#contact">Contact</a>
    </nav>
    <main>
      <section class="hero" role="region" aria-labelledby="hero-heading">
        <h2 id="hero-heading">
          Des Plats Délicieux et Un Service Exceptionnel
        </h2>
      </section>
      <section
        class="section about"
        id="about"
        role="region"
        aria-labelledby="about-heading"
      >
        <h2 id="about-heading">À propos de nous</h2>
        <p>
          Chez Tahiri, nous sommes dédiés à offrir des plats délicieux et un
          service exceptionnel. Situé à Maarif et Belvédère dans la ville de
          Casablanca, nous vous accueillons dans une ambiance chaleureuse et
          conviviale.
        </p>
      </section>
      <section class="section menu" id="menu">
        <h2>Notre Menu</h2>
        <div class="menu-item">
          <h3>jus</h3>
          <img src="jus.jpg" alt="Image de Plat 1" class="menu-image" />
          <p>
            Un jus frais et naturel, préparé avec les meilleurs fruits de saison
            pour une saveur exceptionnelle.
          </p>
        </div>
        <div class="menu-item">
          <h3>Plat 2</h3>
          <img src="plat2.avif" alt="Image de Plat 2" class="menu-image" />
          <p>
            Un plat savoureux composé d'ingrédients frais et locaux, cuisiné
            avec soin pour offrir une expérience culinaire inoubliable.
          </p>
        </div>
        <div class="menu-item">
          <h3>Plat chicken</h3>
          <img src="platc.jpg" alt="Image de Plat c" class="menu-image" />
          <p>
            Un délicieux plat de poulet, préparé avec des épices exotiques et
            des ingrédients de qualité pour une dégustation mémorable.
          </p>
        </div>
      </section>
      <section class="section locations" id="locations">
        <h2>Nos Emplacements</h2>
        <div class="location">
          <h3>Maarif</h3>
          <p>Adresse: Rue Maarif, Casablanca</p>
        </div>
        <div class="location">
          <h3>Belvédère</h3>
          <p>Adresse: Rue Belvédère, Casablanca</p>
        </div>
      </section>
      <section class="section contact" id="contact">
        <h2>Contactez-nous</h2>
        <form id="contact-form">
          <input type="text" id="name" placeholder="Votre nom" required />
          <input type="email" id="email" placeholder="Votre email" required />
          <textarea
            id="message"
            rows="5"
            placeholder="Votre message"
            required
          ></textarea>
          <button type="submit" class="btn-3d">Envoyer</button>
        </form>
        <div id="error" class="error-message">
          Une erreur est survenue. Veuillez réessayer.
        </div>
      </section>
      <div id="confirmation">
        Merci, votre message a été envoyé avec succès !
      </div>
    </main>
    <footer>
      <p>&copy; 2024 Tahiri. Tous droits réservés.</p>
      <nav aria-label="Footer navigation">
        <a href="#about">À propos</a>
        <a href="#menu">Menu</a>
        <a href="#locations">Emplacements</a>
        <a href="#contact">Contact</a>
      </nav>
    </footer>
  </body>
</html>
